<ul id="toc"></ul>

<script>
document.addEventListener("DOMContentLoaded", function() {
  const headings = Array.from(document.querySelectorAll("h1, h2, h3, h4, h5, h6"));
  const tocList = document.getElementById("toc");

  headings.forEach(function(heading) {
    const level = parseInt(heading.tagName[1]);

    const listItem = document.createElement("li");
    const link = document.createElement("a");
    link.textContent = heading.textContent;
    link.href = "#" + heading.id;

    listItem.appendChild(link);

    if (level === 1) {
      tocList.appendChild(listItem);
    } else if (level === 2) {
      const newList = document.createElement("ul");
      newList.appendChild(listItem);
      tocList.lastElementChild.appendChild(newList);
    }
  });
});
</script>